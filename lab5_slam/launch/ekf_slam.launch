<launch>

    <!-- Arguments -->
    <arg name="rviz" default="true"/>
    <arg name="bagfile" default="true"/>
    <arg name="frequency" default="1.0"/>
    <arg name="pause" default="false"/>
    <arg name="simulator" default="false"/>

    <!-- Source data -->
    <include file="$(find probabilistic_basics)/launch/basics.launch">
        <!-- Rosbag arguments -->
        <arg name="frequency" default="$(arg frequency)"/>
        <arg name="pause"     default="$(arg pause)"/>
      
        <!-- Source (only one true or none for real robot) -->
        <arg name="bagfile"   default="$(arg bagfile)"/>
        <arg name="simulator" default="$(arg simulator)"/>
    
        <!-- Bagfile (only used if bagfile true) -->
        <arg name="dataset2" default="false"/>
     </include>
    
    <!-- Split & Merge node -->
    <include file="$(find lab2_splitandmerge)/launch/splitandmerge.launch"/>

    <!-- RViz -->
    <node if="$(arg rviz)" pkg="rviz" type="rviz" name="rviz" args="-d $(find lab5_slam)/config/custom.rviz" output="screen"/>
    
    <!-- EKF node-->
    <node pkg="lab5_slam" type="node.py" name="ekf_slam" output="screen"/>
    
</launch>
